# æ—¥å¿—åˆ†ç±»æ•´ç†å™¨ä½¿ç”¨ç¤ºä¾‹

## å¿«é€Ÿå¼€å§‹

### 1. åŸºæœ¬ä½¿ç”¨

å¤„ç†dataset-readyç›®å½•ä¸‹çš„æ‰€æœ‰CSVæ–‡ä»¶ï¼š

```bash
python log_categorizer.py
```

### 2. å¤„ç†ç‰¹å®šæ–‡ä»¶

```bash
python log_categorizer.py dataset-ready/your_log_file.csv
```

### 3. ä½¿ç”¨æ‰¹å¤„ç†è„šæœ¬ï¼ˆWindowsï¼‰

```bash
batch-scripts/run_log_categorizer.bat
```

## å®é™…ç¤ºä¾‹

å‡è®¾æ‚¨æœ‰ä¸€ä¸ªåŒ…å«ä»¥ä¸‹æ•°æ®çš„CSVæ–‡ä»¶ï¼š

```csv
timestamp,level,message,final_label
2025-06-13 02:42:24.807,DEBUG,å¼€å§‹éªŒè¯ä»¤ç‰Œ: eyJhbGciOi...,auth_error
2025-06-13 02:42:24.808,DEBUG,ä»¤ç‰ŒéªŒè¯æˆåŠŸ - ç”¨æˆ·å: admin,auth_error
2025-06-13 02:42:24.810,DEBUG,Route matched: user_route,ignore
2025-06-13 02:42:33.385,DEBUG,ä¸´æ—¶ç¦ç”¨JWTè®¤è¯ï¼Œæ”¾è¡Œæ‰€æœ‰è¯·æ±‚,other
2025-06-13 02:42:33.386,DEBUG,å¼€å§‹éªŒè¯ä»¤ç‰Œ: eyJhbGciOi...,other
```

è¿è¡Œè„šæœ¬åï¼Œæ‚¨å°†å¾—åˆ°ï¼š

### è¾“å‡ºæ–‡ä»¶

1. **ä¸»åˆ†ç±»æ–‡ä»¶**: `your_log_file_categorized_20250802_010628.csv`
   - åŒ…å«æ‰€æœ‰é"other"çš„æ—¥å¿—ï¼ŒæŒ‰ç±»åˆ«æ’åº

2. **ç»Ÿè®¡æ‘˜è¦**: `your_log_file_categorized_20250802_010628_summary.txt`
   ```
   ğŸ“ˆ åˆ†ç±»ç»Ÿè®¡æŠ¥å‘Š
   ==================================================
   æ€»è®°å½•æ•°: 3
   
   å¯å¿½ç•¥ (ignore): 1 æ¡ (33.3%)
   è®¤è¯é”™è¯¯ (auth_error): 2 æ¡ (66.7%)
   ==================================================
   ```

3. **ç±»åˆ«æ–‡ä»¶**:
   - `auth_error_è®¤è¯é”™è¯¯_20250802_010628.csv` (2æ¡è®°å½•)
   - `ignore_å¯å¿½ç•¥_20250802_010628.csv` (1æ¡è®°å½•)

### æ§åˆ¶å°è¾“å‡º

```
ğŸ”„ å¼€å§‹å¤„ç†æ–‡ä»¶: dataset-ready/your_log_file.csv
------------------------------------------------------------
ğŸ“Š åŸå§‹æ•°æ®: 5 æ¡è®°å½•
ğŸ” è¿‡æ»¤åæ•°æ®: 3 æ¡è®°å½• (ç§»é™¤äº† 2 æ¡'other'è®°å½•)
ğŸ’¾ å·²ä¿å­˜åˆ†ç±»æ•°æ®åˆ°: dataset-ready/your_log_file_categorized_20250802_010628.csv
ğŸ“‹ å·²ä¿å­˜ç»Ÿè®¡æ‘˜è¦åˆ°: dataset-ready/your_log_file_categorized_20250802_010628_summary.txt
ğŸ“ å·²ä¿å­˜ è®¤è¯é”™è¯¯ ç±»åˆ«æ•°æ®: auth_error_è®¤è¯é”™è¯¯_20250802_010628.csv (2 æ¡)
ğŸ“ å·²ä¿å­˜ å¯å¿½ç•¥ ç±»åˆ«æ•°æ®: ignore_å¯å¿½ç•¥_20250802_010628.csv (1 æ¡)

ğŸ“ˆ åˆ†ç±»ç»Ÿè®¡æŠ¥å‘Š
==================================================
æ€»è®°å½•æ•°: 3

è®¤è¯é”™è¯¯ (auth_error): 2 æ¡ (66.7%)
å¯å¿½ç•¥ (ignore): 1 æ¡ (33.3%)
==================================================
```

## é«˜çº§ç”¨æ³•

### æŒ‡å®šè¾“å‡ºç›®å½•

```bash
python log_categorizer.py input.csv --output-dir my_output_folder
```

### ä¸åˆ›å»ºç±»åˆ«æ–‡ä»¶

```bash
python log_categorizer.py input.csv --no-category-files
```

### æ‰¹é‡å¤„ç†

```bash
# å¤„ç†dataset-readyç›®å½•ä¸‹çš„æ‰€æœ‰CSVæ–‡ä»¶
python log_categorizer.py
```

## ç±»åˆ«ä¼˜å…ˆçº§è¯´æ˜

è„šæœ¬æŒ‰ç…§ä»¥ä¸‹ä¼˜å…ˆçº§å¯¹æ—¥å¿—è¿›è¡Œæ’åºï¼š

1. **auth_error** (è®¤è¯é”™è¯¯) - æœ€é«˜ä¼˜å…ˆçº§
2. **system_error** (ç³»ç»Ÿé”™è¯¯)
3. **db_error** (æ•°æ®åº“é”™è¯¯)
4. **timeout** (è¶…æ—¶é”™è¯¯)
5. **api_success** (APIæˆåŠŸ)
6. **ignore** (å¯å¿½ç•¥çš„å¿ƒè·³æ£€æµ‹)
7. **other** (å…¶ä»–) - ä¼šè¢«è¿‡æ»¤æ‰

## æ–‡ä»¶å‘½åè§„åˆ™

- ä¸»æ–‡ä»¶: `{åŸæ–‡ä»¶å}_categorized_{æ—¶é—´æˆ³}.csv`
- æ‘˜è¦æ–‡ä»¶: `{åŸæ–‡ä»¶å}_categorized_{æ—¶é—´æˆ³}_summary.txt`
- ç±»åˆ«æ–‡ä»¶: `{ç±»åˆ«å}_{ä¸­æ–‡æè¿°}_{æ—¶é—´æˆ³}.csv`

## æ³¨æ„äº‹é¡¹

1. ç¡®ä¿è¾“å…¥CSVæ–‡ä»¶åŒ…å«`final_label`åˆ—
2. è„šæœ¬ä¼šè‡ªåŠ¨è¿‡æ»¤æ‰`final_label`ä¸º"other"çš„æ¡ç›®
3. æ‰€æœ‰è¾“å‡ºæ–‡ä»¶éƒ½ä½¿ç”¨UTF-8ç¼–ç 
4. æ—¶é—´æˆ³æ ¼å¼ä¸º`YYYYMMDD_HHMMSS` 